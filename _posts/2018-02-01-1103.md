---
layout: post
title:  "게임"
date:   2018-02-01
excerpt: "BOJ_1103"
cate : "algorithm"
tag:
- BOJ
- 위상정렬
---

## Problem
Problem URL : **[게임](https://www.acmicpc.net/problem/1103)**

{% capture images %}
    /assets/img/algorithm/1103_1.png
    /assets/img/algorithm/1103_2.png
{% endcapture %}
{% include gallery images=images caption="Screenshots of Problem Explain" cols=2 %}

---
 
## Code
{% highlight cpp %}

#include <iostream>
using namespace std;
int dx[5] = { 0,0,-1,1 };
int dy[5] = { 1,-1,0,0 };
int map[51][51];
int d[51][51]; // d is DP
bool v[51][51]; // v is Visit
int n,m,ans;

void dfs(int x,int y,int idg){
    if(v[x][y]) {
        cout << "-1" << endl;
        exit(0);
    }
    v[x][y] = true;
    d[x][y] = idg;
    ans = ans < idg ? idg : ans;
    
    for(int i=0; i<4; i++){
        int nx = x + dx[i] * map[x][y];
        int ny = y + dy[i] * map[x][y];
        
        if(nx > 0 && nx <=n && ny > 0 && ny <= m && map[nx][ny] != -1 && d[nx][ny] <= idg)
            dfs(nx,ny,idg+1);
    }
    v[x][y] = false;
}

int main(){
    cin >> n >> m;
    
    for(int i=1; i<=n; i++)
        for(int j=1; j<=m; j++){
            char c;
            cin >> c;
            if( c == 'H') map[i][j] = -1;
            else map[i][j] = c - '0' ;
        }
    
    dfs(1,1,1);
    cout << ans << endl;
    return 0;
}

{% endhighlight %}

---

## Feed Back

{% highlight cpp %}
if(v[x][y]) {
        cout << "-1" << endl;
        exit(0);
    } 
{% endhighlight %}

* `exit(0)`을 해주면 프로그램이 종료가 된다. 

* 이전에는 main에서 호출한 함수에서 `return ;`을 해주고 main에서 종료를 해줬는데 `exit(0)`을 사용하면 Code가 간결해진다.


    * Anser Code
{% highlight cpp %}
if(nx > 0 && nx <=n && ny > 0 && ny <= m && map[nx][ny] != -1 && d[nx][ny] <= idg)
            dfs(nx,ny,idg+1);
{% endhighlight %}


    * Wrong Code
{% highlight cpp %}
if(nx > 0 && nx <=n && ny > 0 && ny <= m && map[nx][ny] != -1)
            dfs(nx,ny,idg+1);
{% endhighlight %}